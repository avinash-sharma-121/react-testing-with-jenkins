pipeline {
    agent any

    parameters {
        string(
            name: 'DOCKER_IMAGE',
            defaultValue: '',
            description: 'Docker image with tag'
        )
        string(
            name: 'APP_VERSION',
            defaultValue: '',
            description: 'Git commit SHA'
        )
    }

    stages {
        stage('Deploy to Minikube') {
            steps {
                echo "Deploying image: ${params.DOCKER_IMAGE}"
                echo "Version: ${params.APP_VERSION}"

                sh '''
                  kubectl get nodes
                '''
            }
        }
    }
}
